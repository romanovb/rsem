---
title: "MOOC - 3"
author: "Б. Романов, М. Вотякова, Д. Пак"
date: '12 октября 2017 г '
output: html_document
---


```{r Библиотеки}

library(tidyverse)
data(diamonds)
head (diamonds)
```


# Задание 1

```{r}
ggplot(diamonds) +
  geom_histogram(mapping = aes(x = price, fill = cut)) +
  facet_wrap(~color, scales = "fixed") +
  scale_fill_brewer(type = "qual")  +
  scale_x_log10()
```


# Задание 2
```{r}
ggplot(diamonds) +
  geom_point( mapping = aes (x = table, y = price, color = cut)) + 
  scale_color_brewer(type = "qual") +
  theme_bw() +
  scale_x_continuous(breaks = seq(50, 80, by = 2), limits = c(50,80))
```

# Задание 3

1. 53 to 57
2. 58  to 62

# Задание 4

```{r}
head(mutate(diamonds, volume = x * y * z))

ggplot(subset(diamonds, volume < quantile(volume, 0.99))) +
  geom_point(mapping = aes (x = volume, y = price, color = clarity)) +
  scale_y_continuous(trans = "log10") +
  scale_color_brewer(type = "div") +
  xlim (c(0,300)) 
```



# Задание 5

```{r}
pf <- read.delim("pseudo_facebook.tsv")

head (mutate(pf, prop_initiated = friendships_initiated/friend_count))

# pf$prop_initiated <- pf$friendships_initiated / pf$friend_count
```





















